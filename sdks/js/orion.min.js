class Orion{constructor(u){this.u=u.replace(/\/$/,'');this.c={};this.ttl=3e4}k(k,o){const s=JSON.stringify([k,o]);const v=this.c[s];if(v&&v.exp>Date.now())return v.val}set(k,o,v){const s=JSON.stringify([k,o]);this.c[s]={val:v,exp:Date.now()+this.ttl}}async eval(key,ctx){const k=this.k(key,ctx);if(k!==undefined)return k;const r=await fetch(this.u+"/eval",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key,context:ctx})});const j=await r.json();this.set(key,ctx,!!j.value);return !!j.value}}
